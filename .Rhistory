usethis::use_testthat()
usethis::use_test("01")
usethis::use_package("renv")
renv::init()
usethis::edit_file("R/01.R")
test_input <- "199
200
208
210
200
207
240
269
260
263"
scan(test_input)
test_input <- "199
200
208
210
200
207
240
269
260
263"
test_input
test_file <- tempfile()
writeLines(test_input, test_file)
scan(test_file, what = integer())
scan(test_file, what = integer(), quiet = TRUE)
decreased
test_output <- c(TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE)
readings <- writeLines(test_input, test_file)
readings
writeLines(test_input, test_file)
readings <- scan(test_file, what = integer(), quiet = TRUE)
readings
diff(readings)
diff(readings) > 0
larger <- diff(readings) > 0
larger
read_depths <- function(file)- scan(file, what = integer(), quiet = TRUE)
read_depths(test_file)
test_file
read_depths <- function(file) scan(file, what = integer(), quiet = TRUE)
read_depths(test_file)
detect_increase <- function(depths) diff(readings) > 0
detect_increases <- function(depths) diff(readings) > 0
test_file %>% read_depths() %>% detect_increases()
library(magrittr)
.libPaths()
usethis::use_pipe()
devtools::load_all(".")
test_input <- "199
200
208
210
200
207
240
269
260
263"
test_file <- tempfile()
test_output <- c(TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE)
writeLines(test_input, test_file)
read_depths <- function(file) scan(file, what = integer(), quiet = TRUE)
detect_increases <- function(depths) diff(readings) > 0
test_file %>% read_depths() %>% detect_increases()
library(magrittr)
test_file %>% read_depths() %>% detect_increases()
detect_increases <- function(depths) diff(depths) > 0
test_file %>% read_depths() %>% detect_increases()
devtools::load_all(".")
test_input <- "199
200
208
210
200
207
240
269
260
263"
test_file <- tempfile()
test_output <- c(TRUE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, FALSE, TRUE)
writeLines(test_input, test_file)
read_depths <- function(file) scan(file, what = integer(), quiet = TRUE)
detect_increases <- function(depths) diff(depths) > 0
test_file %>% read_depths() %>% detect_increases()
library(magrittr)
test_file %>% read_depths() %>% detect_increases()
expect_equal(
test_output,
test_file %>% read_depths() %>% detect_increases()
)
devtools::load_all(".")
library(adventofcode2021)
system.file("extdata/01.txt", package = "adventofcode2021")
input_file <- system.file("extdata/01.txt", package = "adventofcode2021")
depths <- read_depths(input_file)
depths
depths <- read_depths(input_file)
increases <- detect_increases(depths)
count_increases(increases)
input_file %>% detect_increases() %>% sum()
input_file <- system.file("extdata/01.txt", package = "adventofcode2021")
input_file %>% read_depths() %>% detect_increases() %>% sum()
read_depths(input_file)
read_depths(input_file) %>% length()
test_file %>% read_depths()
# generate test input file
test_input <- "199
200
208
210
200
207
240
269
260
263"
test_file <- tempfile()
writeLines(test_input, test_file)
test_file %>% read_depths()
depths <- test_file %>% read_depths()
depths
seq_along(depths)
window_start <- seq_along(depths)
window_end <- window_start + 2
window_start
window_end
window_start : window_end
indices <- seq_along(depths)
window_start <- indices
window_end <- window_start + 2
window_end
length(depths)
indices
window_start
window_end
indices
indices[-window_size]
window_size <- 2
indices[-window_size]
?tail
tail(indices, n = -window_size)
head(indices, n = -window_size)
window_size <- 2
indices <- seq_along(depths) %>% head(., n = -window_size)
indices
window_start <- indices
window_end <- window_start + 2
window_start
window_end
lapply(indices, function(i) sum(depths[window_start[i] : window_end[i]]))
vapply(indices, \(i) sum(depths[window_start[i] : window_end[i]]), FUN.VALUE = integer)
vapply(indices, \(i) sum(depths[window_start[i] : window_end[i]]), integer(1))
devtools::load_all(".")
window_depths(depths, 2)
window_depths(depths, 3)
window_depths(depths, 2)
devtools::load_all(".")
window_depths(depths, 2)
window_depths(depths, 3)
devtools::load_all(".")
window_depths(depths, 3)
# test part 2
expect_equal(5,  read_depths(test_file) %>% window_depths() detect_increases() %>% sum())
result_part1 <- depths %>% detect_increases() %>% sum()
result_part2 <- depths %>% window_depths(window_size = 3) %>% detect_increases() %>% sum()
devtools::load_all(".")
library(adventofcode2021)
input_file <- system.file("extdata/01.txt", package = "adventofcode2021")
depths <- read_depths(input_file)
result_part1 <- depths %>% detect_increases() %>% sum()
cat("Day #1 puzzle -- part 1", result_part1)
cat("Day #1 puzzle -- part 1 result: ", result_part1)
result_part2 <- depths %>% window_depths(window_size = 3) %>% detect_increases() %>% sum()
cat("Day #1 puzzle -- part 2 result: ", result_part2)
# test part 1
expect_equal(7,  depths %>% detect_increases() %>% sum())
# test part 2
expect_equal(5,  depths %>% window_depths(window_size = 3) %>% detect_increases() %>% sum())
result_part2 <- depths %>% window_depths(window_size = 3) %>% detect_increases() %>% sum()
cat("Day #1 puzzle -- part 2 result: ", result_part2)
usethis::use_mit_license()
